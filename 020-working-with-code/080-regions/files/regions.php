<?php

/**
 * BOSA Xxxxxxx project
 * -- Type your a quick description of your project --
 * php version 7.4
 *
 * @package   Xxxxxxx
 * @author    FirstName LastName <firstname.lastname@bosa.fgov.be>
 * @copyright 2018-2020 (c) SPF BOSA IOD AS - PHP Dev Team
 * @license   Proprietary
 *
 * @link https://code.bosa.fgov.be/dg-r_o/happ/happ-limesurvey
 * @wiki https://code.bosa.fgov.be/dg-r_o/happ/happ-limesurvey/-/wikis/home
 *
 * Latest version: https://code.bosa.fgov.be/##URL##
 * Documentation:  https://code.bosa.fgov.be/##URL##/-/wikis/home
 */

function addRows(array $data): array
{
    $result = [];

    //region 1. Add row only once for the same surveyId/sessionId
    foreach ($data as $participant) {
        // A few dozen lines of code...
        // A few dozen lines of code...
        // A few dozen lines of code...
    }

    //endregion

    //region 2. Add new participants
    try {
        // A few dozen lines of code...
        // A few dozen lines of code...
        // A few dozen lines of code...
    } catch (\Exception $e) {
        // Handle the exception
    }

    //endregion

    //region 3. Prepare resulting array
    // A few dozen lines of code...
    // A few dozen lines of code...
    // A few dozen lines of code...
    // A few dozen lines of code...
    //endregion

    return $result;
}
